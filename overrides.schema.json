{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://example.com/schemas/overrides.schema.json",
  "title": "Theme Registry Overrides",
  "description": "Manual overrides and exclusions for the theme registry. Allows customization of theme entries without editing the generated themes.json directly. Useful for fixing metadata, adding variants, or removing problematic themes.",
  "type": "object",
  "required": [],
  "properties": {
    "overrides": {
      "$id": "#/properties/overrides",
      "title": "Theme Overrides",
      "description": "List of theme entries that will replace or add to the generated registry. Overrides are matched by 'repo' field. If a theme with the same repo exists in the generated registry, it is completely replaced by this override.",
      "type": "array",
      "items": {
        "$id": "#/properties/overrides/items",
        "title": "Theme Override Entry",
        "description": "A complete theme entry that will replace or add to the registry. Must follow the same schema as themes.json entries. The 'repo' field is used for matching.",
        "type": "object",
        "required": ["name", "repo", "colorscheme"],
        "properties": {
          "name": {
            "$id": "#/properties/overrides/items/properties/name",
            "title": "Theme Name",
            "description": "Short identifier for the theme.",
            "type": "string",
            "minLength": 1,
            "pattern": "^[a-zA-Z0-9_-]+$"
          },
          "repo": {
            "$id": "#/properties/overrides/items/properties/repo",
            "title": "GitHub Repository",
            "description": "Full GitHub repository identifier in 'owner/repo' format. Used as the matching key for overrides.",
            "type": "string",
            "minLength": 1,
            "pattern": "^[a-zA-Z0-9_-]+/[a-zA-Z0-9._-]+$"
          },
          "colorscheme": {
            "$id": "#/properties/overrides/items/properties/colorscheme",
            "title": "Colorscheme Name",
            "description": "The exact Neovim command used to activate this theme.",
            "type": "string",
            "minLength": 1
          },
          "tags": {
            "$id": "#/properties/overrides/items/properties/tags",
            "title": "Theme Tags",
            "description": "Categorization tags for filtering.",
            "type": "array",
            "uniqueItems": true,
            "items": {
              "type": "string",
              "minLength": 1
            }
          },
          "deps": {
            "$id": "#/properties/overrides/items/properties/deps",
            "title": "Dependencies",
            "description": "List of plugin repositories this theme depends on.",
            "type": "array",
            "uniqueItems": true,
            "items": {
              "type": "string",
              "minLength": 1,
              "pattern": "^[a-zA-Z0-9_-]+/[a-zA-Z0-9._-]+$"
            }
          },
          "meta": {
            "$id": "#/properties/overrides/items/properties/meta",
            "title": "Adapter Metadata",
            "description": "Optional metadata for theme-specific adapter configuration.",
            "type": "object",
            "properties": {
              "theme_adapter": {
                "title": "Theme Adapter",
                "description": "Adapter strategy for applying the theme.",
                "type": "object",
                "required": ["type"],
                "properties": {
                  "type": { "type": "string", "minLength": 1 },
                  "module": { "type": "string" },
                  "fn": { "type": "string" },
                  "setup": { "type": "string" },
                  "load": { "type": "string" },
                  "args": { "type": "array" },
                  "opts": { "type": "object" },
                  "load_opts": { "type": "object" }
                },
                "additionalProperties": true
              }
            },
            "additionalProperties": true
          },
          "variants": {
            "$id": "#/properties/overrides/items/properties/variants",
            "title": "Theme Variants",
            "description": "Alternative versions of this theme.",
            "type": "array",
            "items": {
              "type": "object",
              "required": ["colorscheme"],
              "properties": {
                "name": {
                  "type": "string",
                  "minLength": 1
                },
                "colorscheme": {
                  "type": "string",
                  "minLength": 1
                },
                "tags": {
                  "type": "array",
                  "uniqueItems": true,
                  "items": {
                    "type": "string",
                    "minLength": 1
                  }
                },
                "meta": {
                  "type": "object",
                  "properties": {
                    "theme_adapter": {
                      "type": "object",
                      "required": ["type"],
                      "properties": {
                        "type": { "type": "string", "minLength": 1 },
                        "module": { "type": "string" },
                        "fn": { "type": "string" },
                        "setup": { "type": "string" },
                        "load": { "type": "string" },
                        "args": { "type": "array" },
                        "opts": { "type": "object" },
                        "load_opts": { "type": "object" }
                      },
                      "additionalProperties": true
                    }
                  },
                  "additionalProperties": true
                }
              }
            }
          }
        },
        "additionalProperties": false
      }
    },
    "excluded": {
      "$id": "#/properties/excluded",
      "title": "Excluded Repositories",
      "description": "List of GitHub repository identifiers to exclude from the registry. These themes will be completely removed from the generated output. Format is 'owner/repo'. Useful for removing broken, deprecated, or low-quality themes.",
      "type": "array",
      "uniqueItems": true,
      "items": {
        "$id": "#/properties/excluded/items",
        "title": "Excluded Repository",
        "description": "A GitHub repository identifier to exclude from the theme registry.",
        "type": "string",
        "minLength": 1,
        "pattern": "^[a-zA-Z0-9_-]+/[a-zA-Z0-9._-]+$",
        "examples": ["example/broken-theme", "deprecated/theme"]
      },
      "examples": [["example/broken-theme"], ["deprecated/theme", "low-quality/theme"]]
    }
  },
  "additionalProperties": false
}
