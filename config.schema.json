{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://example.com/schemas/config.schema.json",
  "title": "Theme Registry Configuration",
  "description": "Configuration file for the theme registry generation system. Controls how themes are fetched, filtered, and sorted when building the themes.json index.",
  "type": "object",
  "required": ["topics"],
  "properties": {
    "topics": {
      "$id": "#/properties/topics",
      "title": "GitHub Topics",
      "description": "List of GitHub topics to search for theme repositories. Each topic is used in a separate GitHub API search query. Results from all topics are aggregated into the theme registry.",
      "type": "array",
      "minItems": 1,
      "uniqueItems": true,
      "items": {
        "$id": "#/properties/topics/items",
        "title": "Topic",
        "description": "A single GitHub topic keyword used to search for theme repositories. Common values: 'neovim-colorscheme', 'neovim-theme'.",
        "type": "string",
        "minLength": 1,
        "pattern": "^[a-zA-Z0-9-]+$",
        "examples": ["neovim-colorscheme", "neovim-theme", "nvim-theme"]
      },
      "examples": [["neovim-colorscheme"], ["neovim-colorscheme", "neovim-theme"]]
    },
    "max_pages": {
      "$id": "#/properties/max_pages",
      "title": "Maximum Pages to Fetch",
      "description": "Maximum number of GitHub API result pages to fetch per topic. Each page contains 'per_page' results. Use 0 to fetch all pages until no results remain. GitHub API has limits; using too many pages may hit rate limits.",
      "type": "integer",
      "minimum": 0,
      "maximum": 100,
      "default": 0,
      "examples": [0, 1, 5, 10]
    },
    "per_page": {
      "$id": "#/properties/per_page",
      "title": "Results Per Page",
      "description": "Number of results to request per GitHub API page. Maximum allowed by GitHub API is 100. Lower values reduce individual request size but increase total request count.",
      "type": "integer",
      "minimum": 1,
      "maximum": 100,
      "default": 100,
      "examples": [50, 100]
    },
    "github_token": {
      "$id": "#/properties/github_token",
      "title": "GitHub Personal Access Token",
      "description": "Personal access token for GitHub API authentication. Without a token, GitHub API rate limits are much lower (60 requests/hour vs 5000). Keep secure and never commit to version control. If empty, reads from GITHUB_TOKEN environment variable.",
      "type": "string",
      "minLength": 0,
      "examples": ["ghp_1234567890abcdef"]
    },
    "output_path": {
      "$id": "#/properties/output_path",
      "title": "Output File Path",
      "description": "File system path where the generated themes.json will be written. Can be absolute or relative path. Parent directory will be created if it doesn't exist.",
      "type": "string",
      "minLength": 1,
      "default": "themes.json",
      "examples": ["themes.json", "./dist/themes.json", "/var/cache/themes.json"]
    },
    "overrides_path": {
      "$id": "#/properties/overrides_path",
      "title": "Overrides File Path",
      "description": "Path to the overrides.json file containing manual theme overrides and exclusions. If null or empty, no overrides are applied.",
      "type": ["string", "null"],
      "minLength": 1,
      "default": "overrides.json",
      "examples": ["overrides.json", "./config/overrides.json"]
    },
    "schema_path": {
      "$id": "#/properties/schema_path",
      "title": "Schema File Path",
      "description": "Path to the JSON Schema file used to validate the output. Used for automated validation during CI/CD or build processes.",
      "type": "string",
      "minLength": 1,
      "default": "themes.schema.json",
      "examples": ["themes.schema.json", "./schemas/themes.schema.json"]
    },
    "sort_by": {
      "$id": "#/properties/sort_by",
      "title": "Sort Field",
      "description": "GitHub repository field to sort results by. The 'stars' field sorts by stargazer count, which is a good proxy for theme popularity.",
      "type": "string",
      "enum": ["stars", "forks", "updated"],
      "default": "stars",
      "examples": ["stars", "forks", "updated"]
    },
    "sort_order": {
      "$id": "#/properties/sort_order",
      "title": "Sort Order",
      "description": "Sort direction for the sort_by field. 'desc' returns highest values first (most stars first), 'asc' returns lowest values first.",
      "type": "string",
      "enum": ["desc", "asc"],
      "default": "desc",
      "examples": ["desc", "asc"]
    },
    "rate_limit_delay": {
      "$id": "#/properties/rate_limit_delay",
      "title": "Rate Limit Delay",
      "description": "Delay in milliseconds between GitHub API requests to respect rate limits. Higher values reduce risk of hitting rate limits but increase total fetch time.",
      "type": "integer",
      "minimum": 0,
      "maximum": 60000,
      "default": 1000,
      "examples": [500, 1000, 2000]
    },
    "max_retries": {
      "$id": "#/properties/max_retries",
      "title": "Maximum Retries",
      "description": "Number of retry attempts for failed GitHub API requests. Failed requests will be retried up to this many times before giving up.",
      "type": "integer",
      "minimum": 0,
      "maximum": 10,
      "default": 3,
      "examples": [0, 1, 3, 5]
    }
  },
  "additionalProperties": false
}
